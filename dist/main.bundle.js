/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config_mailierConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/mailierConfig */ \"./src/config/mailierConfig.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _config_REDIShelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/REDIShelper */ \"./src/config/REDIShelper.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils */ \"./src/utils/index.js\");\n/* harmony import */ var _model_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/model/user */ \"./src/model/user.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    console.log(body);\n\n    try {\n      let result = await (0,_config_mailierConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        code: body.code,\n        expire: moment__WEBPACK_IMPORTED_MODULE_1___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: body.user\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮箱发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // 接收用户数据\n    // 判断验证码是否过期 或 有效\n    // 判断用户名密码是否符合校验\n    const {\n      sid,\n      username,\n      password,\n      code\n    } = ctx.request.body;\n    const originCode = await (0,_config_REDIShelper__WEBPACK_IMPORTED_MODULE_2__.getValue)(sid);\n    const msg = {};\n    const isEqual = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkCodeEqual)(originCode, code);\n\n    if (isEqual) {\n      // 如果找得到sid对应的code 并且 code和redis中的相等\n      // 查找mongodb数据库 查看是否存在用户名 并且密码是否相等\n      const user = await _model_user__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n        username: username\n      });\n      const match = user[0] && (await bcrypt__WEBPACK_IMPORTED_MODULE_7___default().compare(password, user[0].password));\n\n      if (match) {\n        // 密码验证通过，开始生产token\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().sign({\n          _id: 'chen',\n          exp: Math.floor(Date.now() / 1000) + 60 * 60\n        }, _config_index__WEBPACK_IMPORTED_MODULE_6__[\"default\"].JWT_SECRET);\n        ctx.body = {\n          code: 200,\n          token: token,\n          message: '登录成功'\n        };\n      } else {\n        // 密码验证不通过\n        msg.password = ['密码或用户名错误，请重新输入'];\n        ctx.body = {\n          code: 400,\n          message: msg\n        };\n      }\n    } else {\n      msg.authCode = ['图片验证码错误或过期'];\n      ctx.body = {\n        code: 400,\n        message: msg\n      };\n    }\n  }\n\n  async reg(ctx) {\n    // 获取requset.body 的值\n    const {\n      sid,\n      username,\n      nickname,\n      confirmPassword,\n      password,\n      code\n    } = ctx.request.body;\n    const originCode = await (0,_config_REDIShelper__WEBPACK_IMPORTED_MODULE_2__.getValue)(sid);\n    const isEqual = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkCodeEqual)(originCode, code);\n    const msg = {};\n\n    if (isEqual) {\n      // 判断用户名和昵称是否已经被注册\n      const usernameUser = await _model_user__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n        username: username\n      });\n\n      if (usernameUser && usernameUser[0]) {\n        msg.username = ['用户名已经被注册'];\n        ctx.body = {\n          code: 400,\n          message: msg\n        };\n        return;\n      }\n\n      const nicknameUser = await _model_user__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n        nickname: nickname\n      });\n\n      if (nicknameUser && nicknameUser[0]) {\n        msg.nickname = ['昵称已重复，请重新输入'];\n        ctx.body = {\n          code: 400,\n          message: msg\n        };\n        return;\n      } // 写入数据库\n      // 密码加密\n\n\n      const salt = bcrypt__WEBPACK_IMPORTED_MODULE_7___default().genSaltSync(10);\n      const pswHash = bcrypt__WEBPACK_IMPORTED_MODULE_7___default().hashSync(password, salt);\n      const result = new _model_user__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n        nickname,\n        username,\n        password: pswHash\n      });\n      result.save(function (err) {\n        if (err) console.log(err);\n      });\n      ctx.body = {\n        code: 200,\n        message: '注册成功'\n      };\n    } else {\n      // 验证码过期或错误\n      msg.authCode = ['图片验证码错误或过期'];\n      ctx.body = {\n        code: 400,\n        message: msg\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IndlYnBhY2s6Ly82LTkvLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW5kIGZyb20gJ0AvY29uZmlnL21haWxpZXJDb25maWcnXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcbmltcG9ydCB7IGdldFZhbHVlIH0gZnJvbSAnQC9jb25maWcvUkVESVNoZWxwZXInXG5pbXBvcnQgeyBjaGVja0NvZGVFcXVhbCB9IGZyb20gJ0AvdXRpbHMnXG5pbXBvcnQgVXNlck1vZGVsIGZyb20gJ0AvbW9kZWwvdXNlcidcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9pbmRleCdcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuY2xhc3MgTG9naW5Db250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG5cbiAgfVxuICBhc3luYyBmb3JnZXQoY3R4KSB7XG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxuICAgIGNvbnNvbGUubG9nKGJvZHkpXG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBzZW5kKHtcbiAgICAgICAgY29kZTogYm9keS5jb2RlLFxuICAgICAgICBleHBpcmU6IG1vbWVudCgpLmFkZCgzMCwgJ21pbnV0ZXMnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcbiAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXG4gICAgICAgIHVzZXI6IGJvZHkudXNlclxuICAgICAgfSlcbiAgICAgIGN0eC5ib2R5ID0ge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgbXNnOiAn6YKu566x5Y+R6YCB5oiQ5YqfJ1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG4gIGFzeW5jIGxvZ2luKGN0eCkge1xuICAgIC8vIOaOpeaUtueUqOaIt+aVsOaNrlxuICAgIC8vIOWIpOaWremqjOivgeeggeaYr+WQpui/h+acnyDmiJYg5pyJ5pWIXG4gICAgLy8g5Yik5pat55So5oi35ZCN5a+G56CB5piv5ZCm56ym5ZCI5qCh6aqMXG4gICAgY29uc3QgeyBzaWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgY29kZSB9ID0gY3R4LnJlcXVlc3QuYm9keVxuICAgIGNvbnN0IG9yaWdpbkNvZGUgPSBhd2FpdCBnZXRWYWx1ZShzaWQpXG4gICAgY29uc3QgbXNnID0ge31cbiAgICBjb25zdCBpc0VxdWFsID0gY2hlY2tDb2RlRXF1YWwob3JpZ2luQ29kZSwgY29kZSlcbiAgICBpZiAoaXNFcXVhbCkgey8vIOWmguaenOaJvuW+l+WIsHNpZOWvueW6lOeahGNvZGUg5bm25LiUIGNvZGXlkoxyZWRpc+S4reeahOebuOetiVxuICAgICAgLy8g5p+l5om+bW9uZ29kYuaVsOaNruW6kyDmn6XnnIvmmK/lkKblrZjlnKjnlKjmiLflkI0g5bm25LiU5a+G56CB5piv5ZCm55u4562JXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmQoe3VzZXJuYW1lOiB1c2VybmFtZX0pXG4gICAgICBjb25zdCBtYXRjaCA9IHVzZXJbMF0gJiYgYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXJbMF0ucGFzc3dvcmQpXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgLy8g5a+G56CB6aqM6K+B6YCa6L+H77yM5byA5aeL55Sf5LqndG9rZW5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICAgICAgX2lkOiAnY2hlbicsXG4gICAgICAgICAgZXhwOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArICg2MCAqIDYwKVxuICAgICAgICB9LCBjb25maWcuSldUX1NFQ1JFVClcbiAgICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlr4bnoIHpqozor4HkuI3pgJrov4dcbiAgICAgICAgbXNnLnBhc3N3b3JkID0gWyflr4bnoIHmiJbnlKjmiLflkI3plJnor6/vvIzor7fph43mlrDovpPlhaUnXVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbXNnLmF1dGhDb2RlID0gWyflm77niYfpqozor4HnoIHplJnor6/miJbov4fmnJ8nXVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIHJlZyhjdHgpIHtcbiAgICAvLyDojrflj5ZyZXF1c2V0LmJvZHkg55qE5YC8XG4gICAgY29uc3QgeyBzaWQsIHVzZXJuYW1lLCBuaWNrbmFtZSwgY29uZmlybVBhc3N3b3JkLCBwYXNzd29yZCwgY29kZSB9ID0gY3R4LnJlcXVlc3QuYm9keVxuICAgIGNvbnN0IG9yaWdpbkNvZGUgPSBhd2FpdCBnZXRWYWx1ZShzaWQpXG4gICAgY29uc3QgaXNFcXVhbCA9IGNoZWNrQ29kZUVxdWFsKG9yaWdpbkNvZGUsIGNvZGUpXG4gICAgY29uc3QgbXNnID0ge31cbiAgICBpZiAoaXNFcXVhbCkge1xuICAgICAgLy8g5Yik5pat55So5oi35ZCN5ZKM5pi156ew5piv5ZCm5bey57uP6KKr5rOo5YaMXG4gICAgICBjb25zdCB1c2VybmFtZVVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB1c2VybmFtZSB9KVxuICAgICAgaWYgKHVzZXJuYW1lVXNlciAmJiB1c2VybmFtZVVzZXJbMF0pIHtcbiAgICAgICAgbXNnLnVzZXJuYW1lID0gWyfnlKjmiLflkI3lt7Lnu4/ooqvms6jlhownXVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBuaWNrbmFtZVVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCh7IG5pY2tuYW1lOiBuaWNrbmFtZSB9KVxuICAgICAgaWYgKG5pY2tuYW1lVXNlciAmJiBuaWNrbmFtZVVzZXJbMF0pIHtcbiAgICAgICAgbXNnLm5pY2tuYW1lID0gWyfmmLXnp7Dlt7Lph43lpI3vvIzor7fph43mlrDovpPlhaUnXVxuICAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyDlhpnlhaXmlbDmja7lupNcbiAgICAgIC8vIOWvhueggeWKoOWvhlxuICAgICAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcbiAgICAgIGNvbnN0IHBzd0hhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIHNhbHQpXG4gICAgICBjb25zdCByZXN1bHQgPSBuZXcgVXNlck1vZGVsKHtcbiAgICAgICAgbmlja25hbWUsXG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZDogcHN3SGFzaFxuICAgICAgfSlcbiAgICAgIHJlc3VsdC5zYXZlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKVxuICAgICAgIFxuICAgICAgfSlcbiAgICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtZXNzYWdlOiAn5rOo5YaM5oiQ5YqfJ1xuICAgICAgfVxuICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOmqjOivgeeggei/h+acn+aIlumUmeivr1xuICAgICAgbXNnLmF1dGhDb2RlID0gWyflm77niYfpqozor4HnoIHplJnor6/miJbov4fmnJ8nXVxuICAgICAgY3R4LmJvZHkgPSB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKSJdLCJuYW1lcyI6WyJzZW5kIiwibW9tZW50IiwiZ2V0VmFsdWUiLCJjaGVja0NvZGVFcXVhbCIsIlVzZXJNb2RlbCIsImp3dCIsImNvbmZpZyIsImJjcnlwdCIsIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwiY29kZSIsImV4cGlyZSIsImFkZCIsImZvcm1hdCIsImVtYWlsIiwidXNlcm5hbWUiLCJ1c2VyIiwiZGF0YSIsIm1zZyIsImUiLCJsb2dpbiIsInNpZCIsInBhc3N3b3JkIiwib3JpZ2luQ29kZSIsImlzRXF1YWwiLCJmaW5kIiwibWF0Y2giLCJjb21wYXJlIiwidG9rZW4iLCJzaWduIiwiX2lkIiwiZXhwIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIkpXVF9TRUNSRVQiLCJtZXNzYWdlIiwiYXV0aENvZGUiLCJyZWciLCJuaWNrbmFtZSIsImNvbmZpcm1QYXNzd29yZCIsInVzZXJuYW1lVXNlciIsIm5pY2tuYW1lVXNlciIsInNhbHQiLCJnZW5TYWx0U3luYyIsInBzd0hhc2giLCJoYXNoU3luYyIsInNhdmUiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_REDIShelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/REDIShelper */ \"./src/config/REDIShelper.js\");\n\n\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const uuid = ctx.query.uuid;\n    const captcha = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default().create({\n      size: 4,\n      ignoreChars: '0o1i',\n      noise: Math.floor(Math.random() * 5),\n      height: 40,\n      width: 170,\n      color: true\n    });\n    (0,_config_REDIShelper__WEBPACK_IMPORTED_MODULE_1__.add)(uuid, captcha.text, 60 * 10);\n    ctx.body = {\n      'code': 200,\n      data: captcha.data\n    };\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7O0FBRUEsTUFBTUUsZ0JBQU4sQ0FBdUI7QUFDckJDLEVBQUFBLFdBQVcsR0FBRyxDQUFFOztBQUNBLFFBQVZDLFVBQVUsQ0FBRUMsR0FBRixFQUFPO0FBQ3JCLFVBQU1DLElBQUksR0FBR0QsR0FBRyxDQUFDRSxLQUFKLENBQVVELElBQXZCO0FBRUEsVUFBTUUsT0FBTyxHQUFHUix5REFBQSxDQUFrQjtBQUNoQ1UsTUFBQUEsSUFBSSxFQUFFLENBRDBCO0FBRWhDQyxNQUFBQSxXQUFXLEVBQUUsTUFGbUI7QUFHaENDLE1BQUFBLEtBQUssRUFBRUMsSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQixDQUEzQixDQUh5QjtBQUloQ0MsTUFBQUEsTUFBTSxFQUFFLEVBSndCO0FBS2hDQyxNQUFBQSxLQUFLLEVBQUUsR0FMeUI7QUFNaENDLE1BQUFBLEtBQUssRUFBRTtBQU55QixLQUFsQixDQUFoQjtBQVFBakIsSUFBQUEsd0RBQUcsQ0FBQ0ssSUFBRCxFQUFPRSxPQUFPLENBQUNXLElBQWYsRUFBcUIsS0FBSyxFQUExQixDQUFIO0FBQ0FkLElBQUFBLEdBQUcsQ0FBQ2UsSUFBSixHQUFXO0FBQ1QsY0FBUSxHQURDO0FBRVRDLE1BQUFBLElBQUksRUFBRWIsT0FBTyxDQUFDYTtBQUZMLEtBQVg7QUFJRDs7QUFsQm9COztBQXFCdkIsaUVBQWUsSUFBSW5CLGdCQUFKLEVBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3ZnQ2FwdGNoYSBmcm9tICdzdmctY2FwdGNoYSdcbmltcG9ydCB7IGFkZCB9IGZyb20gJ0AvY29uZmlnL1JFRElTaGVscGVyJ1xuXG5jbGFzcyBQdWJsaWNDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICBhc3luYyBnZXRDYXB0Y2hhIChjdHgpIHtcbiAgICBjb25zdCB1dWlkID0gY3R4LnF1ZXJ5LnV1aWRcbiAgICBcbiAgICBjb25zdCBjYXB0Y2hhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xuICAgICAgc2l6ZTogNCxcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaScsXG4gICAgICBub2lzZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksXG4gICAgICBoZWlnaHQ6IDQwLFxuICAgICAgd2lkdGg6IDE3MCxcbiAgICAgIGNvbG9yOiB0cnVlXG4gICAgfSlcbiAgICBhZGQodXVpZCwgY2FwdGNoYS50ZXh0LCA2MCAqIDEwKVxuICAgIGN0eC5ib2R5ID0geyBcbiAgICAgICdjb2RlJzogMjAwLFxuICAgICAgZGF0YTogY2FwdGNoYS5kYXRhXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQdWJsaWNDb250cm9sbGVyKCkiXSwibmFtZXMiOlsic3ZnQ2FwdGNoYSIsImFkZCIsIlB1YmxpY0NvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImdldENhcHRjaGEiLCJjdHgiLCJ1dWlkIiwicXVlcnkiLCJjYXB0Y2hhIiwiY3JlYXRlIiwic2l6ZSIsImlnbm9yZUNoYXJzIiwibm9pc2UiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJoZWlnaHQiLCJ3aWR0aCIsImNvbG9yIiwidGV4dCIsImJvZHkiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/config/DBhelper.js":
/*!********************************!*\
  !*** ./src/config/DBhelper.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\nvar db = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\ndb.on('open', () => {\n  console.log('connection success');\n});\ndb.on('error', () => {\n  console.log('connection error');\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL0RCaGVscGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBRUFBLHVEQUFBLENBQWlCQyxxREFBakIsRUFBZ0M7QUFDOUJHLEVBQUFBLGVBQWUsRUFBRSxJQURhO0FBRTlCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUZVLENBQWhDO0FBSUEsSUFBSUMsRUFBRSxHQUFHTiw0REFBVDtBQUNBTSxFQUFFLENBQUNFLEVBQUgsQ0FBTSxNQUFOLEVBQWMsTUFBTTtBQUNsQkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVo7QUFDRCxDQUZEO0FBSUFKLEVBQUUsQ0FBQ0UsRUFBSCxDQUFNLE9BQU4sRUFBZSxNQUFNO0FBQ25CQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWjtBQUNELENBRkQ7QUFJQSxpRUFBZVYsaURBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvY29uZmlnL0RCaGVscGVyLmpzP2UwNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2luZGV4J1xuXG5tb25nb29zZS5jb25uZWN0KGNvbmZpZy5EQl9VUkwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pXG52YXIgZGIgPSBtb25nb29zZS5jb25uZWN0aW9uO1xuZGIub24oJ29wZW4nLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHN1Y2Nlc3MnKVxufSlcblxuZGIub24oJ2Vycm9yJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnY29ubmVjdGlvbiBlcnJvcicpXG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZSJdLCJuYW1lcyI6WyJtb25nb29zZSIsImNvbmZpZyIsImNvbm5lY3QiLCJEQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJkYiIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBhelper.js\n");

/***/ }),

/***/ "./src/config/REDIShelper.js":
/*!***********************************!*\
  !*** ./src/config/REDIShelper.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"add\": () => (/* binding */ add),\n/* harmony export */   \"getValue\": () => (/* binding */ getValue),\n/* harmony export */   \"getHashValue\": () => (/* binding */ getHashValue)\n/* harmony export */ });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./src/config/index.js\");\n\n\nconst {\n  REDIS_CONFIG\n} = _index_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nlet client;\n\nconst init = async () => {\n  // console.log(REDIS_CONFIG.password)\n  client = (0,redis__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n    url: `redis://:${REDIS_CONFIG.password}@${REDIS_CONFIG.host}:${REDIS_CONFIG.port}`\n  });\n  await client.connect();\n};\n\ninit();\n\nconst add = async (key, value, time) => {\n  if (typeof value == undefined || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (time) {\n      return await client.set(key, value, {\n        EX: time\n      });\n    } else {\n      return await client.set(key, value);\n    }\n  }\n\n  if (Object.prototype.toString(value) === 'Array') {\n    return await client.lPush(key, value);\n  }\n\n  if (Object.prototype.toString(value) === '[object Object]') {\n    const keys = Object.keys(value);\n\n    for (let item of keys) {\n      await client.HSET(key, item, value[item]);\n    }\n  }\n};\n\nconst getValue = async key => {\n  return await client.get(key);\n};\n\nconst getHashValue = async key => {\n  return await client.hGetAll(key);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL1JFRElTaGVscGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQSxNQUFNO0FBQUVFLEVBQUFBO0FBQUYsSUFBbUJELGlEQUF6QjtBQUNBLElBQUlFLE1BQUo7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHLFlBQVk7QUFDdkI7QUFDQUQsRUFBQUEsTUFBTSxHQUFHSCxtREFBWSxDQUFDO0FBQ3BCSyxJQUFBQSxHQUFHLEVBQUcsWUFBV0gsWUFBWSxDQUFDSSxRQUFTLElBQUdKLFlBQVksQ0FBQ0ssSUFBSyxJQUFHTCxZQUFZLENBQUNNLElBQUs7QUFEN0QsR0FBRCxDQUFyQjtBQUdELFFBQU1MLE1BQU0sQ0FBQ00sT0FBUCxFQUFOO0FBQ0EsQ0FORDs7QUFRQUwsSUFBSTs7QUFFSixNQUFNTSxHQUFHLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxLQUFaLEVBQW1CQyxJQUFuQixLQUE0QjtBQUN0QyxNQUFJLE9BQU9ELEtBQVAsSUFBZ0JFLFNBQWhCLElBQTZCRixLQUFLLEtBQUssRUFBM0MsRUFBK0M7QUFDN0M7QUFDRDs7QUFDRCxNQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsUUFBSUMsSUFBSixFQUFVO0FBQ1IsYUFBTyxNQUFNVixNQUFNLENBQUNZLEdBQVAsQ0FBV0osR0FBWCxFQUFnQkMsS0FBaEIsRUFBdUI7QUFBRUksUUFBQUEsRUFBRSxFQUFFSDtBQUFOLE9BQXZCLENBQWI7QUFDRCxLQUZELE1BRU87QUFDTCxhQUFPLE1BQU1WLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXSixHQUFYLEVBQWdCQyxLQUFoQixDQUFiO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJSyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLFFBQWpCLENBQTBCUCxLQUExQixNQUFxQyxPQUF6QyxFQUFrRDtBQUNoRCxXQUFPLE1BQU1ULE1BQU0sQ0FBQ2lCLEtBQVAsQ0FBYVQsR0FBYixFQUFrQkMsS0FBbEIsQ0FBYjtBQUNEOztBQUNELE1BQUlLLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkMsUUFBakIsQ0FBMEJQLEtBQTFCLE1BQXFDLGlCQUF6QyxFQUE0RDtBQUMxRCxVQUFNUyxJQUFJLEdBQUdKLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZVCxLQUFaLENBQWI7O0FBQ0EsU0FBSyxJQUFJVSxJQUFULElBQWlCRCxJQUFqQixFQUF1QjtBQUNyQixZQUFNbEIsTUFBTSxDQUFDb0IsSUFBUCxDQUFZWixHQUFaLEVBQWlCVyxJQUFqQixFQUF1QlYsS0FBSyxDQUFDVSxJQUFELENBQTVCLENBQU47QUFDRDtBQUNGO0FBQ0YsQ0FyQkQ7O0FBdUJBLE1BQU1FLFFBQVEsR0FBRyxNQUFPYixHQUFQLElBQWU7QUFDOUIsU0FBTyxNQUFNUixNQUFNLENBQUNzQixHQUFQLENBQVdkLEdBQVgsQ0FBYjtBQUNELENBRkQ7O0FBSUEsTUFBTWUsWUFBWSxHQUFHLE1BQU9mLEdBQVAsSUFBZTtBQUNsQyxTQUFPLE1BQU1SLE1BQU0sQ0FBQ3dCLE9BQVAsQ0FBZWhCLEdBQWYsQ0FBYjtBQUNELENBRkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvY29uZmlnL1JFRElTaGVscGVyLmpzPzQ1OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcInJlZGlzXCJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleC5qcydcbmNvbnN0IHsgUkVESVNfQ09ORklHIH0gPSBjb25maWdcbmxldCBjbGllbnQ7XG5jb25zdCBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICAvLyBjb25zb2xlLmxvZyhSRURJU19DT05GSUcucGFzc3dvcmQpXG4gIGNsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG4gICAgdXJsOiBgcmVkaXM6Ly86JHtSRURJU19DT05GSUcucGFzc3dvcmR9QCR7UkVESVNfQ09ORklHLmhvc3R9OiR7UkVESVNfQ09ORklHLnBvcnR9YFxuICB9KVxuIGF3YWl0IGNsaWVudC5jb25uZWN0KClcbn1cblxuaW5pdCgpXG5cbmNvbnN0IGFkZCA9IGFzeW5jIChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVyblxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHRpbWUpIHtcbiAgICAgIHJldHVybiBhd2FpdCBjbGllbnQuc2V0KGtleSwgdmFsdWUsIHsgRVg6IHRpbWUgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IGNsaWVudC5zZXQoa2V5LCB2YWx1ZSlcbiAgICB9XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyh2YWx1ZSkgPT09ICdBcnJheScpIHtcbiAgICByZXR1cm4gYXdhaXQgY2xpZW50LmxQdXNoKGtleSwgdmFsdWUpXG4gIH1cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSlcbiAgICBmb3IgKGxldCBpdGVtIG9mIGtleXMpIHtcbiAgICAgIGF3YWl0IGNsaWVudC5IU0VUKGtleSwgaXRlbSwgdmFsdWVbaXRlbV0pXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGdldFZhbHVlID0gYXN5bmMgKGtleSkgPT4ge1xuICByZXR1cm4gYXdhaXQgY2xpZW50LmdldChrZXkpXG59XG5cbmNvbnN0IGdldEhhc2hWYWx1ZSA9IGFzeW5jIChrZXkpID0+IHtcbiAgcmV0dXJuIGF3YWl0IGNsaWVudC5oR2V0QWxsKGtleSlcbn1cblxuZXhwb3J0IHtcbiAgYWRkLFxuICBnZXRWYWx1ZSxcbiAgZ2V0SGFzaFZhbHVlXG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiY29uZmlnIiwiUkVESVNfQ09ORklHIiwiY2xpZW50IiwiaW5pdCIsInVybCIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJjb25uZWN0IiwiYWRkIiwia2V5IiwidmFsdWUiLCJ0aW1lIiwidW5kZWZpbmVkIiwic2V0IiwiRVgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImxQdXNoIiwia2V5cyIsIml0ZW0iLCJIU0VUIiwiZ2V0VmFsdWUiLCJnZXQiLCJnZXRIYXNoVmFsdWUiLCJoR2V0QWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/REDIShelper.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst DB_URL = 'mongodb://curry:123456@175.178.58.5:27017/myDb';\nconst REDIS_CONFIG = {\n  host: '175.178.58.5',\n  port: 15001,\n  password: '123456'\n};\nconst JWT_SECRET = '*fsdjflj^fsdjfbsjf#jlkalkfja*lijiaPflajsldjvnasdrqer434$';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  DB_URL,\n  REDIS_CONFIG,\n  JWT_SECRET\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxNQUFNLEdBQUcsZ0RBQWY7QUFFQSxNQUFNQyxZQUFZLEdBQUc7QUFDbkJDLEVBQUFBLElBQUksRUFBRSxjQURhO0FBRW5CQyxFQUFBQSxJQUFJLEVBQUUsS0FGYTtBQUduQkMsRUFBQUEsUUFBUSxFQUFFO0FBSFMsQ0FBckI7QUFNQSxNQUFNQyxVQUFVLEdBQUcsMERBQW5CO0FBRUEsaUVBQWU7QUFDYkwsRUFBQUEsTUFEYTtBQUViQyxFQUFBQSxZQUZhO0FBR2JJLEVBQUFBO0FBSGEsQ0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovLzYtOS8uL3NyYy9jb25maWcvaW5kZXguanM/ZjEyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBEQl9VUkwgPSAnbW9uZ29kYjovL2N1cnJ5OjEyMzQ1NkAxNzUuMTc4LjU4LjU6MjcwMTcvbXlEYidcblxuY29uc3QgUkVESVNfQ09ORklHID0ge1xuICBob3N0OiAnMTc1LjE3OC41OC41JyxcbiAgcG9ydDogMTUwMDEsXG4gIHBhc3N3b3JkOiAnMTIzNDU2J1xufVxuXG5jb25zdCBKV1RfU0VDUkVUID0gJypmc2RqZmxqXmZzZGpmYnNqZiNqbGthbGtmamEqbGlqaWFQZmxhanNsZGp2bmFzZHJxZXI0MzQkJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIERCX1VSTCxcbiAgUkVESVNfQ09ORklHLFxuICBKV1RfU0VDUkVUXG59Il0sIm5hbWVzIjpbIkRCX1VSTCIsIlJFRElTX0NPTkZJRyIsImhvc3QiLCJwb3J0IiwicGFzc3dvcmQiLCJKV1RfU0VDUkVUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/config/mailierConfig.js":
/*!*************************************!*\
  !*** ./src/config/mailierConfig.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst nodemailer = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/**\n * @param {email: string, user: string, expire: string, code: string} data \n * @returns \n */\n// async..await is not allowed in global scope, must use a wrapper\n\n\nasync function send(data) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  let testAccount = await nodemailer.createTestAccount(); // create reusable transporter object using the default SMTP transport\n\n  let transporter = nodemailer.createTransport({\n    host: \"smtp.qq.com\",\n    // 记得修改\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: 'lm4czq@qq.com',\n      // generated ethereal user\n      pass: 'bkqiwhalvismcaab' // generated ethereal password\n\n    }\n  });\n  let url = 'https://www.baidu.com'; // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"邮箱验证\" <lm4czq@qq.com>',\n    // sender address\n    to: `${data.email}`,\n    // list of receivers\n    subject: data.user !== '' ? `你好开发者${data.user}` : '注册码',\n    // Subject line\n    text: `你的邀请码为${data.code},邀请码过期时间为${data.expire}`,\n    // plain text body\n    html: `\n          <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n          <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">Imooc社区——欢迎来到官方社区</div>\n          <div style=\"padding: 25px\">\n            <div>您好，${data.user}童鞋，重置链接有效时间30分钟，请在${data.expire}之前重置您的密码：</div>\n            <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n            <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n          </div>\n          <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n      </div>\n      ` // html body\n\n  }); // console.log(\"Message sent: %s\", info.messageId);\n  // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n\n  return info;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (send); // main().catch(console.error);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uZmlnL21haWxpZXJDb25maWcuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQyw4QkFBRCxDQUExQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLGVBQWVDLElBQWYsQ0FBb0JDLElBQXBCLEVBQTBCO0FBQ3hCO0FBQ0E7QUFDQSxNQUFJQyxXQUFXLEdBQUcsTUFBTUosVUFBVSxDQUFDSyxpQkFBWCxFQUF4QixDQUh3QixDQUt4Qjs7QUFDQSxNQUFJQyxXQUFXLEdBQUdOLFVBQVUsQ0FBQ08sZUFBWCxDQUEyQjtBQUMzQ0MsSUFBQUEsSUFBSSxFQUFFLGFBRHFDO0FBQ3RCO0FBQ3JCQyxJQUFBQSxJQUFJLEVBQUUsR0FGcUM7QUFHM0NDLElBQUFBLE1BQU0sRUFBRSxLQUhtQztBQUc1QjtBQUNmQyxJQUFBQSxJQUFJLEVBQUU7QUFDSkMsTUFBQUEsSUFBSSxFQUFFLGVBREY7QUFDbUI7QUFDdkJDLE1BQUFBLElBQUksRUFBRSxrQkFGRixDQUVzQjs7QUFGdEI7QUFKcUMsR0FBM0IsQ0FBbEI7QUFTQSxNQUFJQyxHQUFHLEdBQUcsdUJBQVYsQ0Fmd0IsQ0FnQnhCOztBQUNBLE1BQUlDLElBQUksR0FBRyxNQUFNVCxXQUFXLENBQUNVLFFBQVosQ0FBcUI7QUFDcENDLElBQUFBLElBQUksRUFBRSx3QkFEOEI7QUFDSjtBQUNoQ0MsSUFBQUEsRUFBRSxFQUFHLEdBQUVmLElBQUksQ0FBQ2dCLEtBQU0sRUFGa0I7QUFFZjtBQUNyQkMsSUFBQUEsT0FBTyxFQUFFakIsSUFBSSxDQUFDUyxJQUFMLEtBQWMsRUFBZCxHQUFvQixRQUFPVCxJQUFJLENBQUNTLElBQUssRUFBckMsR0FBeUMsS0FIZDtBQUdxQjtBQUN6RFMsSUFBQUEsSUFBSSxFQUFHLFNBQVFsQixJQUFJLENBQUNtQixJQUFLLFlBQVduQixJQUFJLENBQUNvQixNQUFPLEVBSlo7QUFJZTtBQUNuREMsSUFBQUEsSUFBSSxFQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCckIsSUFBSSxDQUFDUyxJQUFLLHFCQUN4QlQsSUFBSSxDQUFDb0IsTUFDTjtBQUNQLHVCQUF1QlQsR0FBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BakJ3QyxDQWlCL0I7O0FBakIrQixHQUFyQixDQUFqQixDQWpCd0IsQ0FxQ3hCO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0EsU0FBT0MsSUFBUDtBQUNEOztBQUVELGlFQUFlYixJQUFmLEdBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvY29uZmlnL21haWxpZXJDb25maWcuanM/Mjk2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XG4vKipcbiAqIEBwYXJhbSB7ZW1haWw6IHN0cmluZywgdXNlcjogc3RyaW5nLCBleHBpcmU6IHN0cmluZywgY29kZTogc3RyaW5nfSBkYXRhIFxuICogQHJldHVybnMgXG4gKi9cbi8vIGFzeW5jLi5hd2FpdCBpcyBub3QgYWxsb3dlZCBpbiBnbG9iYWwgc2NvcGUsIG11c3QgdXNlIGEgd3JhcHBlclxuYXN5bmMgZnVuY3Rpb24gc2VuZChkYXRhKSB7XG4gIC8vIEdlbmVyYXRlIHRlc3QgU01UUCBzZXJ2aWNlIGFjY291bnQgZnJvbSBldGhlcmVhbC5lbWFpbFxuICAvLyBPbmx5IG5lZWRlZCBpZiB5b3UgZG9uJ3QgaGF2ZSBhIHJlYWwgbWFpbCBhY2NvdW50IGZvciB0ZXN0aW5nXG4gIGxldCB0ZXN0QWNjb3VudCA9IGF3YWl0IG5vZGVtYWlsZXIuY3JlYXRlVGVzdEFjY291bnQoKTtcblxuICAvLyBjcmVhdGUgcmV1c2FibGUgdHJhbnNwb3J0ZXIgb2JqZWN0IHVzaW5nIHRoZSBkZWZhdWx0IFNNVFAgdHJhbnNwb3J0XG4gIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBob3N0OiBcInNtdHAucXEuY29tXCIsIC8vIOiusOW+l+S/ruaUuVxuICAgIHBvcnQ6IDU4NyxcbiAgICBzZWN1cmU6IGZhbHNlLCAvLyB0cnVlIGZvciA0NjUsIGZhbHNlIGZvciBvdGhlciBwb3J0c1xuICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6ICdsbTRjenFAcXEuY29tJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHVzZXJcbiAgICAgIHBhc3M6ICdia3Fpd2hhbHZpc21jYWFiJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHBhc3N3b3JkXG4gICAgfSxcbiAgfSk7XG4gIGxldCB1cmwgPSAnaHR0cHM6Ly93d3cuYmFpZHUuY29tJztcbiAgLy8gc2VuZCBtYWlsIHdpdGggZGVmaW5lZCB0cmFuc3BvcnQgb2JqZWN0XG4gIGxldCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgIGZyb206ICdcIumCrueusemqjOivgVwiIDxsbTRjenFAcXEuY29tPicsIC8vIHNlbmRlciBhZGRyZXNzXG4gICAgdG86IGAke2RhdGEuZW1haWx9YCwgLy8gbGlzdCBvZiByZWNlaXZlcnNcbiAgICBzdWJqZWN0OiBkYXRhLnVzZXIgIT09ICcnID8gYOS9oOWlveW8gOWPkeiAhSR7ZGF0YS51c2VyfWAgOiAn5rOo5YaM56CBJywgLy8gU3ViamVjdCBsaW5lXG4gICAgdGV4dDogYOS9oOeahOmCgOivt+eggeS4uiR7ZGF0YS5jb2RlfSzpgoDor7fnoIHov4fmnJ/ml7bpl7TkuLoke2RhdGEuZXhwaXJlfWAsIC8vIHBsYWluIHRleHQgYm9keVxuICAgIGh0bWw6IGBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RjZGNkYztjb2xvcjogIzY3Njc2Nzt3aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nLWJvdHRvbTogNTBweDtwb3NpdGlvbjogcmVsYXRpdmU7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImhlaWdodDogNjBweDsgYmFja2dyb3VuZDogIzM5M2Q0OTsgbGluZS1oZWlnaHQ6IDYwcHg7IGNvbG9yOiAjNThhMzZmOyBmb250LXNpemU6IDE4cHg7cGFkZGluZy1sZWZ0OiAxMHB4O1wiPkltb29j56S+5Yy64oCU4oCU5qyi6L+O5p2l5Yiw5a6Y5pa556S+5Yy6PC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDI1cHhcIj5cbiAgICAgICAgICAgIDxkaXY+5oKo5aW977yMJHtkYXRhLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke1xuICAgICAgICBkYXRhLmV4cGlyZVxuICAgICAgfeS5i+WJjemHjee9ruaCqOeahOWvhuegge+8mjwvZGl2PlxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7dXJsfVwiIHN0eWxlPVwicGFkZGluZzogMTBweCAyMHB4OyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzAwOWU5NDsgZGlzcGxheTogaW5saW5lLWJsb2NrO21hcmdpbjogMTVweCAwO1wiPueri+WNs+mHjee9ruWvhueggTwvYT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA1cHg7IGJhY2tncm91bmQ6ICNmMmYyZjI7XCI+5aaC5p6c6K+l6YKu5Lu25LiN5piv55Sx5L2g5pys5Lq65pON5L2c77yM6K+35Yu/6L+b6KGM5r+A5rS777yB5ZCm5YiZ5L2g55qE6YKu566x5bCG5Lya6KKr5LuW5Lq657uR5a6a44CCPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmYWZhZmE7IGNvbG9yOiAjYjRiNGI0O3RleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDQ1cHg7IGhlaWdodDogNDVweDsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyBib3R0b206IDA7d2lkdGg6IDEwMCU7XCI+57O757uf6YKu5Lu277yM6K+35Yu/55u05o6l5Zue5aSNPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIGAsIC8vIGh0bWwgYm9keVxuICB9KTtcblxuICAvLyBjb25zb2xlLmxvZyhcIk1lc3NhZ2Ugc2VudDogJXNcIiwgaW5mby5tZXNzYWdlSWQpO1xuICAvLyBNZXNzYWdlIHNlbnQ6IDxiNjU4ZjhjYS02Mjk2LWNjZjQtODMwNi04N2Q1N2EwYjQzMjFAZXhhbXBsZS5jb20+XG5cbiAgLy8gUHJldmlldyBvbmx5IGF2YWlsYWJsZSB3aGVuIHNlbmRpbmcgdGhyb3VnaCBhbiBFdGhlcmVhbCBhY2NvdW50XG4gIC8vIGNvbnNvbGUubG9nKFwiUHJldmlldyBVUkw6ICVzXCIsIG5vZGVtYWlsZXIuZ2V0VGVzdE1lc3NhZ2VVcmwoaW5mbykpO1xuICAvLyBQcmV2aWV3IFVSTDogaHR0cHM6Ly9ldGhlcmVhbC5lbWFpbC9tZXNzYWdlL1dhUUtNZ0tkZHhRRG9vdS4uLlxuICByZXR1cm4gaW5mb1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZW5kXG5cbi8vIG1haW4oKS5jYXRjaChjb25zb2xlLmVycm9yKTsiXSwibmFtZXMiOlsibm9kZW1haWxlciIsInJlcXVpcmUiLCJzZW5kIiwiZGF0YSIsInRlc3RBY2NvdW50IiwiY3JlYXRlVGVzdEFjY291bnQiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwidXJsIiwiaW5mbyIsInNlbmRNYWlsIiwiZnJvbSIsInRvIiwiZW1haWwiLCJzdWJqZWN0IiwidGV4dCIsImNvZGUiLCJleHBpcmUiLCJodG1sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/mailierConfig.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("var __dirname = \"src\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"./node_modules/path-browserify/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routers_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routers/router */ \"./src/routers/router.js\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _utils_ErrorHandle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/ErrorHandle */ \"./src/utils/ErrorHandle.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new (koa__WEBPACK_IMPORTED_MODULE_1___default())(); // jwt\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_9___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_10__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /^\\/login/]\n});\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_6___default()([koa_body__WEBPACK_IMPORTED_MODULE_2___default()(), koa_json__WEBPACK_IMPORTED_MODULE_3___default()(), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_static__WEBPACK_IMPORTED_MODULE_4___default()(path__WEBPACK_IMPORTED_MODULE_0___default().join(__dirname, '../public')), _utils_ErrorHandle__WEBPACK_IMPORTED_MODULE_11__[\"default\"], jwt]);\napp.use(middleware);\n\nif (false) {}\n\napp.use((0,_routers_router__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(3000);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNWSxHQUFHLEdBQUcsSUFBSVgsNENBQUosRUFBWixFQUVBOztBQUNBLE1BQU1ZLEdBQUcsR0FBR0osOENBQUcsQ0FBQztBQUFFSyxFQUFBQSxNQUFNLEVBQUVKLGlFQUFpQks7QUFBM0IsQ0FBRCxDQUFILENBQW1DQyxNQUFuQyxDQUEwQztBQUFFaEIsRUFBQUEsSUFBSSxFQUFFLENBQUMsV0FBRCxFQUFjLFVBQWQ7QUFBUixDQUExQyxDQUFaO0FBRUEsTUFBTWlCLFVBQVUsR0FBR1gsa0RBQU8sQ0FBQyxDQUN6QkosK0NBQU8sRUFEa0IsRUFFekJDLCtDQUFPLEVBRmtCLEVBR3pCSyxnREFBSSxFQUhxQixFQUl6QkosaURBQVMsQ0FBQ0osZ0RBQUEsQ0FBVW1CLFNBQVYsRUFBcUIsV0FBckIsQ0FBRCxDQUpnQixFQUt6QlIsMkRBTHlCLEVBTXpCRSxHQU55QixDQUFELENBQTFCO0FBUUFELEdBQUcsQ0FBQ1EsR0FBSixDQUFRSCxVQUFSOztBQUNBLElBQUlJLEtBQUosRUFBcUMsRUFFcEM7O0FBQ0RULEdBQUcsQ0FBQ1EsR0FBSixDQUFRZiwyREFBTyxFQUFmO0FBRUFPLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLElBQVgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IEtvYSBmcm9tICdrb2EnXG5pbXBvcnQga29hQm9keSBmcm9tICdrb2EtYm9keSdcbmltcG9ydCBrb2FKc29uIGZyb20gJ2tvYS1qc29uJ1xuaW1wb3J0IGtvYVN0YXRpYyBmcm9tICdrb2Etc3RhdGljJ1xuaW1wb3J0IHJvdXRlcnMgZnJvbSAnLi9yb3V0ZXJzL3JvdXRlcidcbmltcG9ydCBjb21wb3NlIGZyb20gJ2tvYS1jb21wb3NlJ1xuaW1wb3J0IGNvbXByZXNzIGZyb20gJ2tvYS1jb21wcmVzcydcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycydcbmltcG9ydCBKV1QgZnJvbSAna29hLWp3dCdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcvaW5kZXgnXG5pbXBvcnQgRXJyb3JIYW5kbGUgZnJvbSAnLi91dGlscy9FcnJvckhhbmRsZSdcbmNvbnN0IGFwcCA9IG5ldyBLb2EoKVxuXG4vLyBqd3RcbmNvbnN0IGp3dCA9IEpXVCh7IHNlY3JldDogY29uZmlnLkpXVF9TRUNSRVQgfSkudW5sZXNzKHsgcGF0aDogWy9eXFwvcHVibGljLywgL15cXC9sb2dpbi9dIH0pXG5cbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcbiAga29hQm9keSgpLFxuICBrb2FKc29uKCksXG4gIGNvcnMoKSxcbiAga29hU3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSksXG4gIEVycm9ySGFuZGxlLFxuICBqd3Rcbl0pXG5hcHAudXNlKG1pZGRsZXdhcmUpXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kJykge1xuICBhcHAudXNlKGNvbXByZXNzKCkpXG59XG5hcHAudXNlKHJvdXRlcnMoKSlcblxuYXBwLmxpc3RlbigzMDAwKSJdLCJuYW1lcyI6WyJwYXRoIiwiS29hIiwia29hQm9keSIsImtvYUpzb24iLCJrb2FTdGF0aWMiLCJyb3V0ZXJzIiwiY29tcG9zZSIsImNvbXByZXNzIiwiY29ycyIsIkpXVCIsImNvbmZpZyIsIkVycm9ySGFuZGxlIiwiYXBwIiwiand0Iiwic2VjcmV0IiwiSldUX1NFQ1JFVCIsInVubGVzcyIsIm1pZGRsZXdhcmUiLCJqb2luIiwiX19kaXJuYW1lIiwidXNlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/user.js":
/*!***************************!*\
  !*** ./src/model/user.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config_DBhelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBhelper */ \"./src/config/DBhelper.js\");\n\nvar Schema = _config_DBhelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema({\n  username: {\n    type: String\n  },\n  password: {\n    type: String\n  },\n  nickname: {\n    type: String\n  }\n});\nconst UserModel = _config_DBhelper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', Schema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWwvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBRUEsSUFBSUMsTUFBTSxHQUFHRCwrREFBQSxDQUFnQjtBQUMzQkUsRUFBQUEsUUFBUSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUM7QUFBUixHQURpQjtBQUUzQkMsRUFBQUEsUUFBUSxFQUFFO0FBQUVGLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUZpQjtBQUczQkUsRUFBQUEsUUFBUSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUM7QUFBUjtBQUhpQixDQUFoQixDQUFiO0FBTUEsTUFBTUcsU0FBUyxHQUFHUCw4REFBQSxDQUFlLE9BQWYsRUFBd0JDLE1BQXhCLENBQWxCO0FBRUEsaUVBQWVNLFNBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LTkvLi9zcmMvbW9kZWwvdXNlci5qcz83YmVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJoZWxwZXInXG5cbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoeyBcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nIH0sIFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcgfSxcbiAgbmlja25hbWU6IHsgdHlwZTogU3RyaW5nIH1cbn0pXG5cbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCd1c2VycycsIFNjaGVtYSlcblxuZXhwb3J0IGRlZmF1bHQgVXNlck1vZGVsIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicGFzc3dvcmQiLCJuaWNrbmFtZSIsIlVzZXJNb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/user.js\n");

/***/ }),

/***/ "./src/routers/loginRouter.js":
/*!************************************!*\
  !*** ./src/routers/loginRouter.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new (koa_router__WEBPACK_IMPORTED_MODULE_0___default())();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm91dGVycy9sb2dpblJvdXRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUVBLE1BQU1FLE1BQU0sR0FBRyxJQUFJRixtREFBSixFQUFmO0FBRUFFLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLFFBQWQ7QUFDQUQsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsbUVBQXZCO0FBQ0FDLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFFBQVosRUFBc0JILGtFQUF0QjtBQUNBQyxNQUFNLENBQUNFLElBQVAsQ0FBWSxNQUFaLEVBQW9CSCxnRUFBcEI7QUFFQSxpRUFBZUMsTUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovLzYtOS8uL3NyYy9yb3V0ZXJzL2xvZ2luUm91dGVyLmpzPzc4OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IGxvZ2luQ29udHJvbGxlciBmcm9tICcuLi9hcGkvTG9naW5Db250cm9sbGVyJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcblxucm91dGVyLnByZWZpeCgnL2xvZ2luJylcbnJvdXRlci5wb3N0KCcvZm9yZ2V0JywgbG9naW5Db250cm9sbGVyLmZvcmdldClcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBsb2dpbkNvbnRyb2xsZXIubG9naW4pXG5yb3V0ZXIucG9zdCgnL3JlZycsIGxvZ2luQ29udHJvbGxlci5yZWcpXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdLCJuYW1lcyI6WyJSb3V0ZXIiLCJsb2dpbkNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiZm9yZ2V0IiwibG9naW4iLCJyZWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routers/loginRouter.js\n");

/***/ }),

/***/ "./src/routers/publicRouter.js":
/*!*************************************!*\
  !*** ./src/routers/publicRouter.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/PublicController */ \"./src/api/PublicController.js\");\n\n\nconst router = new (koa_router__WEBPACK_IMPORTED_MODULE_0___default())();\nrouter.prefix('/public');\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm91dGVycy9wdWJsaWNSb3V0ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFFQSxNQUFNRSxNQUFNLEdBQUcsSUFBSUYsbURBQUosRUFBZjtBQUVBRSxNQUFNLENBQUNDLE1BQVAsQ0FBYyxTQUFkO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGFBQVgsRUFBMEJILHdFQUExQjtBQUVBLGlFQUFlQyxNQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNi05Ly4vc3JjL3JvdXRlcnMvcHVibGljUm91dGVyLmpzP2Q3NDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xuaW1wb3J0IHB1YmxpY0NvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL1B1YmxpY0NvbnRyb2xsZXInXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIucHJlZml4KCcvcHVibGljJylcbnJvdXRlci5nZXQoJy9nZXRDYXB0Y2hhJywgcHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwibmFtZXMiOlsiUm91dGVyIiwicHVibGljQ29udHJvbGxlciIsInJvdXRlciIsInByZWZpeCIsImdldCIsImdldENhcHRjaGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routers/publicRouter.js\n");

/***/ }),

/***/ "./src/routers/router.js":
/*!*******************************!*\
  !*** ./src/routers/router.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _publicRouter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./publicRouter */ \"./src/routers/publicRouter.js\");\n/* harmony import */ var _loginRouter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loginRouter */ \"./src/routers/loginRouter.js\");\n\n\n\nconst router = koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()(_publicRouter__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _loginRouter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcm91dGVycy9yb3V0ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNRyxNQUFNLEdBQUdILDBEQUFPLENBQ3BCQyxxREFEb0IsRUFFcEJDLG9EQUZvQixDQUF0QjtBQUtBLGlFQUFlQyxNQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNi05Ly4vc3JjL3JvdXRlcnMvcm91dGVyLmpzPzYxOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbWJpbmUgZnJvbSAna29hLWNvbWJpbmUtcm91dGVycydcbmltcG9ydCBwdWJsaWNSb3V0ZXIgZnJvbSAnLi9wdWJsaWNSb3V0ZXInXG5pbXBvcnQgbG9naW5Sb3V0ZXIgZnJvbSAnLi9sb2dpblJvdXRlcidcblxuY29uc3Qgcm91dGVyID0gY29tYmluZShcbiAgcHVibGljUm91dGVyLFxuICBsb2dpblJvdXRlclxuKVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwibmFtZXMiOlsiY29tYmluZSIsInB1YmxpY1JvdXRlciIsImxvZ2luUm91dGVyIiwicm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routers/router.js\n");

/***/ }),

/***/ "./src/utils/ErrorHandle.js":
/*!**********************************!*\
  !*** ./src/utils/ErrorHandle.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(ctx, next) {\n  return next().catch(err => {\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        message: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      throw err;\n      ctx.status = err.status || 500; // 状态错误和err的status保持一致\n\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  false ? 0 : {});\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvRXJyb3JIYW5kbGUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDZCQUFlLG9DQUFVQSxHQUFWLEVBQWVDLElBQWYsRUFBcUI7QUFDbEMsU0FBT0EsSUFBSSxHQUFHQyxLQUFQLENBQWNDLEdBQUQsSUFBUztBQUMzQixRQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBZixFQUF1QjtBQUNyQkosTUFBQUEsR0FBRyxDQUFDSSxNQUFKLEdBQWEsR0FBYjtBQUNBSixNQUFBQSxHQUFHLENBQUNLLElBQUosR0FBVztBQUNUQyxRQUFBQSxJQUFJLEVBQUUsR0FERztBQUVUQyxRQUFBQSxPQUFPLEVBQUU7QUFGQSxPQUFYO0FBSUQsS0FORCxNQU1PO0FBQ0wsWUFBTUosR0FBTjtBQUNBSCxNQUFBQSxHQUFHLENBQUNJLE1BQUosR0FBYUQsR0FBRyxDQUFDQyxNQUFKLElBQWMsR0FBM0IsQ0FGSyxDQUUwQjs7QUFDL0JKLE1BQUFBLEdBQUcsQ0FBQ0ssSUFBSixHQUFXRyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkgsUUFBQUEsSUFBSSxFQUFFLEdBRGlCO0FBRXZCSSxRQUFBQSxHQUFHLEVBQUVQLEdBQUcsQ0FBQ0k7QUFGYyxPQUFkLEVBR1JJLE1BQUEsR0FBaUMsQ0FBakMsR0FBd0QsRUFIaEQsQ0FBWDtBQUlEO0FBQ0YsR0FmTSxDQUFQO0FBZ0JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNi05Ly4vc3JjL3V0aWxzL0Vycm9ySGFuZGxlLmpzPzc3ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGN0eCwgbmV4dCkge1xuICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICBpZiAoNDAxID09IGVyci5zdGF0dXMpIHtcbiAgICAgIGN0eC5zdGF0dXMgPSA0MDE7XG4gICAgICBjdHguYm9keSA9IHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBtZXNzYWdlOiAnUHJvdGVjdGVkIHJlc291cmNlLCB1c2UgQXV0aG9yaXphdGlvbiBoZWFkZXIgdG8gZ2V0IGFjY2Vzc1xcbidcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgICAgY3R4LnN0YXR1cyA9IGVyci5zdGF0dXMgfHwgNTAwIC8vIOeKtuaAgemUmeivr+WSjGVycueahHN0YXR1c+S/neaMgeS4gOiHtFxuICAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY29kZTogNTAwLFxuICAgICAgICBtc2c6IGVyci5tZXNzYWdlXG4gICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldicgPyB7c3RhY2s6IGVycm9yLnN0YWNrfSA6IHt9KVxuICAgIH1cbiAgfSlcbn0iXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiYm9keSIsImNvZGUiLCJtZXNzYWdlIiwiT2JqZWN0IiwiYXNzaWduIiwibXNnIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic3RhY2siLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/ErrorHandle.js\n");

/***/ }),

/***/ "./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkCodeEqual\": () => (/* binding */ checkCodeEqual)\n/* harmony export */ });\nconst checkCodeEqual = (originCode, code) => {\n  if (!originCode || !code) {\n    return false;\n  }\n\n  if (originCode.toLowerCase() === code.toLowerCase()) {\n    return true;\n  } else {\n    return false;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLGNBQWMsR0FBRyxDQUFDQyxVQUFELEVBQWFDLElBQWIsS0FBc0I7QUFDbEQsTUFBSSxDQUFDRCxVQUFELElBQWUsQ0FBQ0MsSUFBcEIsRUFBMEI7QUFDeEIsV0FBTyxLQUFQO0FBQ0Q7O0FBQ0QsTUFBSUQsVUFBVSxDQUFDRSxXQUFYLE9BQTZCRCxJQUFJLENBQUNDLFdBQUwsRUFBakMsRUFBcUQ7QUFDbkQsV0FBTyxJQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxLQUFQO0FBQ0Q7QUFDRixDQVRNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNi05Ly4vc3JjL3V0aWxzL2luZGV4LmpzP2VkMDgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNoZWNrQ29kZUVxdWFsID0gKG9yaWdpbkNvZGUsIGNvZGUpID0+IHtcbiAgaWYgKCFvcmlnaW5Db2RlIHx8ICFjb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgaWYgKG9yaWdpbkNvZGUudG9Mb3dlckNhc2UoKSA9PT0gY29kZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufSJdLCJuYW1lcyI6WyJjaGVja0NvZGVFcXVhbCIsIm9yaWdpbkNvZGUiLCJjb2RlIiwidG9Mb3dlckNhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/index.js\n");

/***/ }),

/***/ "./node_modules/path-browserify/index.js":
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/
/***/ ((module) => {

eval("// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDLDhCQUE4QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSxZQUFZO0FBQ1o7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0EsWUFBWTtBQUNaO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsY0FBYztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsUUFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Q7QUFDaEQ7QUFDQSxNQUFNO0FBQ04sZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4REFBOEQ7O0FBRTlEO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vNi05Ly4vbm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcz9kZjdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vICdwYXRoJyBtb2R1bGUgZXh0cmFjdGVkIGZyb20gTm9kZS5qcyB2OC4xMS4xIChvbmx5IHRoZSBwb3NpeCBwYXJ0KVxuLy8gdHJhbnNwbGl0ZWQgd2l0aCBCYWJlbFxuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NlcnRQYXRoKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgJyArIEpTT04uc3RyaW5naWZ5KHBhdGgpKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGFsbG93QWJvdmVSb290KSB7XG4gIHZhciByZXMgPSAnJztcbiAgdmFyIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgdmFyIGxhc3RTbGFzaCA9IC0xO1xuICB2YXIgZG90cyA9IDA7XG4gIHZhciBjb2RlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGkgPCBwYXRoLmxlbmd0aClcbiAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgZWxzZSBpZiAoY29kZSA9PT0gNDcgLyovKi8pXG4gICAgICBicmVhaztcbiAgICBlbHNlXG4gICAgICBjb2RlID0gNDcgLyovKi87XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICBpZiAobGFzdFNsYXNoID09PSBpIC0gMSB8fCBkb3RzID09PSAxKSB7XG4gICAgICAgIC8vIE5PT1BcbiAgICAgIH0gZWxzZSBpZiAobGFzdFNsYXNoICE9PSBpIC0gMSAmJiBkb3RzID09PSAyKSB7XG4gICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fCBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IDQ2IC8qLiovIHx8IHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gNDYgLyouKi8pIHtcbiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHZhciBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSByZXMubGVuZ3RoIC0gMSAtIHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5sZW5ndGggPT09IDIgfHwgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmVzICs9ICcvLi4nO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlcyA9ICcuLic7XG4gICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgcmVzICs9ICcvJyArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IGkgLSBsYXN0U2xhc2ggLSAxO1xuICAgICAgfVxuICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgIGRvdHMgPSAwO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gNDYgLyouKi8gJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICsrZG90cztcbiAgICB9IGVsc2Uge1xuICAgICAgZG90cyA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBfZm9ybWF0KHNlcCwgcGF0aE9iamVjdCkge1xuICB2YXIgZGlyID0gcGF0aE9iamVjdC5kaXIgfHwgcGF0aE9iamVjdC5yb290O1xuICB2YXIgYmFzZSA9IHBhdGhPYmplY3QuYmFzZSB8fCAocGF0aE9iamVjdC5uYW1lIHx8ICcnKSArIChwYXRoT2JqZWN0LmV4dCB8fCAnJyk7XG4gIGlmICghZGlyKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cbiAgaWYgKGRpciA9PT0gcGF0aE9iamVjdC5yb290KSB7XG4gICAgcmV0dXJuIGRpciArIGJhc2U7XG4gIH1cbiAgcmV0dXJuIGRpciArIHNlcCArIGJhc2U7XG59XG5cbnZhciBwb3NpeCA9IHtcbiAgLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKCkge1xuICAgIHZhciByZXNvbHZlZFBhdGggPSAnJztcbiAgICB2YXIgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuICAgIHZhciBjd2Q7XG5cbiAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgdmFyIHBhdGg7XG4gICAgICBpZiAoaSA+PSAwKVxuICAgICAgICBwYXRoID0gYXJndW1lbnRzW2ldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBjd2QgPSBwcm9jZXNzLmN3ZCgpO1xuICAgICAgICBwYXRoID0gY3dkO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnRQYXRoKHBhdGgpO1xuXG4gICAgICAvLyBTa2lwIGVtcHR5IGVudHJpZXNcbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qLyovO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICAgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHJlc29sdmVkUGF0aCwgIXJlc29sdmVkQWJzb2x1dGUpO1xuXG4gICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcbiAgICAgIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMClcbiAgICAgICAgcmV0dXJuICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9IGVsc2UgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJy4nO1xuICAgIH1cbiAgfSxcblxuICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcblxuICAgIHZhciBpc0Fic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB2YXIgdHJhaWxpbmdTZXBhcmF0b3IgPSBwYXRoLmNoYXJDb2RlQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gNDcgLyovKi87XG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICBwYXRoID0gbm9ybWFsaXplU3RyaW5nUG9zaXgocGF0aCwgIWlzQWJzb2x1dGUpO1xuXG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwICYmICFpc0Fic29sdXRlKSBwYXRoID0gJy4nO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgdHJhaWxpbmdTZXBhcmF0b3IpIHBhdGggKz0gJy8nO1xuXG4gICAgaWYgKGlzQWJzb2x1dGUpIHJldHVybiAnLycgKyBwYXRoO1xuICAgIHJldHVybiBwYXRoO1xuICB9LFxuXG4gIGlzQWJzb2x1dGU6IGZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qLyovO1xuICB9LFxuXG4gIGpvaW46IGZ1bmN0aW9uIGpvaW4oKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHZhciBqb2luZWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICBhc3NlcnRQYXRoKGFyZyk7XG4gICAgICBpZiAoYXJnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGpvaW5lZCA9IGFyZztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGpvaW5lZCArPSAnLycgKyBhcmc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiAnLic7XG4gICAgcmV0dXJuIHBvc2l4Lm5vcm1hbGl6ZShqb2luZWQpO1xuICB9LFxuXG4gIHJlbGF0aXZlOiBmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykge1xuICAgIGFzc2VydFBhdGgoZnJvbSk7XG4gICAgYXNzZXJ0UGF0aCh0byk7XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiAnJztcblxuICAgIGZyb20gPSBwb3NpeC5yZXNvbHZlKGZyb20pO1xuICAgIHRvID0gcG9zaXgucmVzb2x2ZSh0byk7XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiAnJztcblxuICAgIC8vIFRyaW0gYW55IGxlYWRpbmcgYmFja3NsYXNoZXNcbiAgICB2YXIgZnJvbVN0YXJ0ID0gMTtcbiAgICBmb3IgKDsgZnJvbVN0YXJ0IDwgZnJvbS5sZW5ndGg7ICsrZnJvbVN0YXJ0KSB7XG4gICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCkgIT09IDQ3IC8qLyovKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGZyb21FbmQgPSBmcm9tLmxlbmd0aDtcbiAgICB2YXIgZnJvbUxlbiA9IGZyb21FbmQgLSBmcm9tU3RhcnQ7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIHRvU3RhcnQgPSAxO1xuICAgIGZvciAoOyB0b1N0YXJ0IDwgdG8ubGVuZ3RoOyArK3RvU3RhcnQpIHtcbiAgICAgIGlmICh0by5jaGFyQ29kZUF0KHRvU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciB0b0VuZCA9IHRvLmxlbmd0aDtcbiAgICB2YXIgdG9MZW4gPSB0b0VuZCAtIHRvU3RhcnQ7XG5cbiAgICAvLyBDb21wYXJlIHBhdGhzIHRvIGZpbmQgdGhlIGxvbmdlc3QgY29tbW9uIHBhdGggZnJvbSByb290XG4gICAgdmFyIGxlbmd0aCA9IGZyb21MZW4gPCB0b0xlbiA/IGZyb21MZW4gOiB0b0xlbjtcbiAgICB2YXIgbGFzdENvbW1vblNlcCA9IC0xO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKDsgaSA8PSBsZW5ndGg7ICsraSkge1xuICAgICAgaWYgKGkgPT09IGxlbmd0aCkge1xuICAgICAgICBpZiAodG9MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYHRvYC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhcic7IHRvPScvZm9vL2Jhci9iYXonXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkgKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGBmcm9tYCBpcyB0aGUgcm9vdFxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy8nOyB0bz0nL2ZvbydcbiAgICAgICAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0ICsgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZyb21MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgZnJvbWAuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXIvYmF6JzsgdG89Jy9mb28vYmFyJ1xuICAgICAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSByb290LlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28nOyB0bz0nLydcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBmcm9tQ29kZSA9IGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKTtcbiAgICAgIHZhciB0b0NvZGUgPSB0by5jaGFyQ29kZUF0KHRvU3RhcnQgKyBpKTtcbiAgICAgIGlmIChmcm9tQ29kZSAhPT0gdG9Db2RlKVxuICAgICAgICBicmVhaztcbiAgICAgIGVsc2UgaWYgKGZyb21Db2RlID09PSA0NyAvKi8qLylcbiAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIC8vIEdlbmVyYXRlIHRoZSByZWxhdGl2ZSBwYXRoIGJhc2VkIG9uIHRoZSBwYXRoIGRpZmZlcmVuY2UgYmV0d2VlbiBgdG9gXG4gICAgLy8gYW5kIGBmcm9tYFxuICAgIGZvciAoaSA9IGZyb21TdGFydCArIGxhc3RDb21tb25TZXAgKyAxOyBpIDw9IGZyb21FbmQ7ICsraSkge1xuICAgICAgaWYgKGkgPT09IGZyb21FbmQgfHwgZnJvbS5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICBpZiAob3V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICBvdXQgKz0gJy4uJztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG91dCArPSAnLy4uJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMYXN0bHksIGFwcGVuZCB0aGUgcmVzdCBvZiB0aGUgZGVzdGluYXRpb24gKGB0b2ApIHBhdGggdGhhdCBjb21lcyBhZnRlclxuICAgIC8vIHRoZSBjb21tb24gcGF0aCBwYXJ0c1xuICAgIGlmIChvdXQubGVuZ3RoID4gMClcbiAgICAgIHJldHVybiBvdXQgKyB0by5zbGljZSh0b1N0YXJ0ICsgbGFzdENvbW1vblNlcCk7XG4gICAgZWxzZSB7XG4gICAgICB0b1N0YXJ0ICs9IGxhc3RDb21tb25TZXA7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSA9PT0gNDcgLyovKi8pXG4gICAgICAgICsrdG9TdGFydDtcbiAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0KTtcbiAgICB9XG4gIH0sXG5cbiAgX21ha2VMb25nOiBmdW5jdGlvbiBfbWFrZUxvbmcocGF0aCkge1xuICAgIHJldHVybiBwYXRoO1xuICB9LFxuXG4gIGRpcm5hbWU6IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gJy4nO1xuICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBoYXNSb290ID0gY29kZSA9PT0gNDcgLyovKi87XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbmQgPT09IC0xKSByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpIHJldHVybiAnLy8nO1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG4gIH0sXG5cbiAgYmFzZW5hbWU6IGZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgsIGV4dCkge1xuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZXh0ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJleHRcIiBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciBzdGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGV4dCAhPT0gdW5kZWZpbmVkICYmIGV4dC5sZW5ndGggPiAwICYmIGV4dC5sZW5ndGggPD0gcGF0aC5sZW5ndGgpIHtcbiAgICAgIGlmIChleHQubGVuZ3RoID09PSBwYXRoLmxlbmd0aCAmJiBleHQgPT09IHBhdGgpIHJldHVybiAnJztcbiAgICAgIHZhciBleHRJZHggPSBleHQubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBmaXJzdE5vblNsYXNoRW5kID0gLTE7XG4gICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZpcnN0Tm9uU2xhc2hFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgcmVtZW1iZXIgdGhpcyBpbmRleCBpbiBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGl0IGlmIHRoZSBleHRlbnNpb24gZW5kcyB1cCBub3QgbWF0Y2hpbmdcbiAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlyc3ROb25TbGFzaEVuZCA9IGkgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXh0SWR4ID49IDApIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBtYXRjaCB0aGUgZXhwbGljaXQgZXh0ZW5zaW9uXG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gZXh0LmNoYXJDb2RlQXQoZXh0SWR4KSkge1xuICAgICAgICAgICAgICBpZiAoLS1leHRJZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgZXh0ZW5zaW9uLCBzbyBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXIgcGF0aFxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEV4dGVuc2lvbiBkb2VzIG5vdCBtYXRjaCwgc28gb3VyIHJlc3VsdCBpcyB0aGUgZW50aXJlIHBhdGhcbiAgICAgICAgICAgICAgLy8gY29tcG9uZW50XG4gICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xuICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtlbHNlIGlmIChlbmQgPT09IC0xKSBlbmQgPSBwYXRoLmxlbmd0aDtcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgLy8gcGF0aCBjb21wb25lbnRcbiAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9LFxuXG4gIGV4dG5hbWU6IGZ1bmN0aW9uIGV4dG5hbWUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpXG4gICAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpXG4gICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZFxuICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICB9LFxuXG4gIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHBhdGhPYmplY3QpIHtcbiAgICBpZiAocGF0aE9iamVjdCA9PT0gbnVsbCB8fCB0eXBlb2YgcGF0aE9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInBhdGhPYmplY3RcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgcGF0aE9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBfZm9ybWF0KCcvJywgcGF0aE9iamVjdCk7XG4gIH0sXG5cbiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuXG4gICAgdmFyIHJldCA9IHsgcm9vdDogJycsIGRpcjogJycsIGJhc2U6ICcnLCBleHQ6ICcnLCBuYW1lOiAnJyB9O1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJldDtcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaXNBYnNvbHV0ZSA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBzdGFydDtcbiAgICBpZiAoaXNBYnNvbHV0ZSkge1xuICAgICAgcmV0LnJvb3QgPSAnLyc7XG4gICAgICBzdGFydCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIHZhciBpID0gcGF0aC5sZW5ndGggLSAxO1xuXG4gICAgLy8gVHJhY2sgdGhlIHN0YXRlIG9mIGNoYXJhY3RlcnMgKGlmIGFueSkgd2Ugc2VlIGJlZm9yZSBvdXIgZmlyc3QgZG90IGFuZFxuICAgIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gICAgdmFyIHByZURvdFN0YXRlID0gMDtcblxuICAgIC8vIEdldCBub24tZGlyIGluZm9cbiAgICBmb3IgKDsgaSA+PSBzdGFydDsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHN0YXJ0RG90ID0gaTtlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZFxuICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgcHJlRG90U3RhdGUgPT09IDEgJiYgc3RhcnREb3QgPT09IGVuZCAtIDEgJiYgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpIHtcbiAgICAgIGlmIChlbmQgIT09IC0xKSB7XG4gICAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtlbHNlIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlKSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZSgxLCBzdGFydERvdCk7XG4gICAgICAgIHJldC5iYXNlID0gcGF0aC5zbGljZSgxLCBlbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgfVxuICAgICAgcmV0LmV4dCA9IHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0UGFydCA+IDApIHJldC5kaXIgPSBwYXRoLnNsaWNlKDAsIHN0YXJ0UGFydCAtIDEpO2Vsc2UgaWYgKGlzQWJzb2x1dGUpIHJldC5kaXIgPSAnLyc7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIHNlcDogJy8nLFxuICBkZWxpbWl0ZXI6ICc6JyxcbiAgd2luMzI6IG51bGwsXG4gIHBvc2l4OiBudWxsXG59O1xuXG5wb3NpeC5wb3NpeCA9IHBvc2l4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBvc2l4O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/path-browserify/index.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("@koa/cors");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("koa");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("koa-body");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("koa-combine-routers");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("koa-compose");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("koa-compress");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("koa-json");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("koa-jwt");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("koa-router");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("koa-static");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("moment");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/***/ ((module) => {

module.exports = require("redis");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("svg-captcha");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;